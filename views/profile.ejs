<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Mini Mart</title>
    <%- include('./css/style'); %>
        <%- include('./css/css'); %>
            <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
                integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
                crossorigin="anonymous">
</head>

<body>
    <%- include('Navtologin')%>

        <div class="container-lgx a">
            <div class="image4"></div>
            <% if((locals.status)=="admin" && (locals.S) == "myself"){ %>
               
                <form class="user bg-w r" action="edituser" method="POST" novalidate style="left: 50%;"
                id="mainform">

                <div class="text-center">
                    <h1 class="h4 text-gray-900 mb-4">Profile!</h1>
                </div>
                <div class="form-group mb-3">
                    <input type="text" name="user_name" class="form-control form-control-user"
                        placeholder="First Name" id="1" value="<%= (locals.name) ? name : ''; %>"
                        disabled="true">
                </div>
                <div class="form-group mb-3">
                    <input type="email" name="user_email" class="form-control form-control-user"
                        placeholder="Email" id="2" value="<%= (locals.email) ? email : ''; %>" disabled="true">
                </div>
                <div class="form-group row mb-3">
                    <div class="col-sm-5 mb-4">
                        <input type="text" name="user_phone" class="form-control form-control-user"
                            placeholder="Phone" id="3" value="<%= (locals.phone) ? phone : ''; %>"
                            disabled="true">
                    </div>
                </div>
                <hr />
                <div class="text-center">
                    <input type="button" class="btn btn-outline-primary mb-3" value="Edit" style="width:150px;"
                        onclick="edit()">
                    <input type="submit" class="btn btn-outline-primary mb-3" value="Confirm"
                        style="width:150px;">
                </div>
                <% if (locals.register_error) { register_error.forEach(function(error_msg){ %>
                    <div class="alert alert-danger" role="alert">
                        <%= error_msg %>
                    </div>
                    <% }); } %>
            </form>

                <% }else  if((locals.status)=="admin" && (locals.S) != "myself"){%>

                    <form class="user bg-w r" action="edituser" method="POST" novalidate style="left: 50%;" id="mainform">
                        <input type="text" name="user_id" value="<%= (locals.id_user) ? id_user : ''; %>" style="display:none">
                        <div class="text-center">
                            <h1 class="h4 text-gray-900 mb-4">Profile!</h1>
                        </div>
                        <div class="form-group mb-3">
                            <input type="text" name="user_name" class="form-control form-control-user"
                                placeholder="First Name" id="1" value="<%= (locals.name_user) ? name_user : ''; %>"
                                disabled="true">
                        </div>
                        <div class="form-group mb-3">
                            <input type="email" name="user_email" class="form-control form-control-user" placeholder="Email"
                                id="2" value="<%= (locals.email_user) ? email_user : ''; %>" disabled="true">
                        </div>
                        <div class="form-group mb-3">
                            <input type="text" name="user_phone" class="form-control form-control-user" placeholder="Phone"
                                id="3" value="<%= (locals.phone_user) ? phone_user : ''; %>" disabled="true">
                        </div>
                        <div class="form-group mb-3">
                            <input type="text" name="user_status" class="form-control form-control-user" placeholder="Status"
                                id="4" value="<%= (locals.status_user) ? status_user : ''; %>" disabled="true">
                        </div>
                        <hr />
                        <div class="text-center">
                            <input type="button" class="btn btn-outline-primary mb-3" value="Edit" style="width:150px;"
                                onclick="edit()">
                            <input type="submit" class="btn btn-outline-primary mb-3" value="Confirm" style="width:150px;">
                        </div>
                        <% if (locals.register_error) { register_error.forEach(function(error_msg){ %>
                            <div class="alert alert-danger" role="alert">
                                <%= error_msg %>
                            </div>
                            <% }); } %>
                    </form>

                   

                    <% }else{ %>
                        <form class="user bg-w r" action="edituser" method="POST" novalidate style="left: 50%;"
                        id="mainform">

                        <div class="text-center">
                            <h1 class="h4 text-gray-900 mb-4">Profile!</h1>
                        </div>
                        <div class="form-group mb-3">
                            <input type="text" name="user_name" class="form-control form-control-user"
                                placeholder="First Name" id="1" value="<%= (locals.name) ? name : ''; %>"
                                disabled="true">
                        </div>
                        <div class="form-group mb-3">
                            <input type="email" name="user_email" class="form-control form-control-user"
                                placeholder="Email" id="2" value="<%= (locals.email) ? email : ''; %>" disabled="true">
                        </div>
                        <div class="form-group row mb-3">
                            <div class="col-sm-5 mb-4">
                                <input type="text" name="user_phone" class="form-control form-control-user"
                                    placeholder="Phone" id="3" value="<%= (locals.phone) ? phone : ''; %>"
                                    disabled="true">
                            </div>
                            <div class="col-sm-7">
                                <input type="text" name="user_pass" class="form-control form-control-user" id="4"
                                    placeholder="Password" value="<%= (locals.password) ? password : ''; %>"
                                    disabled="true">
                            </div>
                        </div>
                        <hr />
                        <div class="text-center">
                            <input type="button" class="btn btn-outline-primary mb-3" value="Edit" style="width:150px;"
                                onclick="edit()">
                            <input type="submit" class="btn btn-outline-primary mb-3" value="Confirm"
                                style="width:150px;">
                        </div>
                        <% if (locals.register_error) { register_error.forEach(function(error_msg){ %>
                            <div class="alert alert-danger" role="alert">
                                <%= error_msg %>
                            </div>
                            <% }); } %>
                    </form>

                  <%  } %>

        </div>
        <%- include('footer')%>

            <script>

                function edit() {
                    document.getElementById('1').disabled = false
                    document.getElementById('2').disabled = false
                    document.getElementById('3').disabled = false
                    document.getElementById('4').disabled = false
                }


                let colors = localStorage.getItem('color')
                if (!colors) { localStorage.setItem('color', 'g-green') }

                var element1 = document.getElementById("Nav");
                var element2 = document.getElementById("hoff");
                element1.classList.add(localStorage.getItem('color'));
                element2.classList.add(localStorage.getItem('color'));

                function ChangeColorfooter(color) {


                    var element1 = document.getElementById("Nav");
                    var element2 = document.getElementById("hoff");
                    element1.classList.remove(localStorage.getItem('color'));
                    element1.classList.add(color);
                    element2.classList.remove(localStorage.getItem('color'));
                    element2.classList.add(color);
                    localStorage.removeItem('color');
                    localStorage.setItem('color', color)
                }
            </script>

</body>

</html>