<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <%- include('./css/style'); %>
        <%- include('./css/css'); %>
            <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
                integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
                crossorigin="anonymous">
            <title>Document</title>
</head>

<body>

    <%- include('Navtologin')%>


        <div class="container">
            <div class="row">

                <div class="col-lg-3">
                    <div class="hero__categories my-3">
                        <div class="hero__categories__all">
                            <span>All departments</span>
                        </div>
                        <ul>
                            <div class="btn-group-vertical" role="group" aria-label="Basic radio toggle button group">

                                <input type="radio" class="btn-check" name="btnradio" id="btnradio1" autocomplete="off"
                                    onclick="showproductistype('All')" checked>
                                <label class="btn-outline-primary" for="btnradio1" style="padding-top: 10px;" >All</label>

                                <input type="radio" class="btn-check" name="btnradio" id="btnradio2" autocomplete="off"
                                    onclick="showproductistype('dry food')" style="padding-top: 10px;">
                                <label class="btn-outline-primary" for="btnradio2"  style="padding-top: 10px;">Dry food</label>

                                <input type="radio" class="btn-check" name="btnradio" id="btnradio3" autocomplete="off"
                                    onclick="showproductistype('Fresh food')" style="padding-top: 10px;">
                                <label class="btn-outline-primary" for="btnradio3"  style="padding-top: 10px;">Fresh food</label>

                                <input type="radio" class="btn-check" name="btnradio" id="btnradio4" autocomplete="off"
                                    onclick="showproductistype('Drink')" style="padding-top: 10px;">
                                <label class="btn-outline-primary" for="btnradio4"  style="padding-top: 10px;">Drink</label>

                                <input type="radio" class="btn-check" name="btnradio" id="btnradio5" autocomplete="off"
                                    onclick="showproductistype('personal items')" style="padding-top: 10px;">
                                <label class="btn-outline-primary" for="btnradio5"  style="padding-top: 10px;">Personal items</label>

                                <input type="radio" class="btn-check" name="btnradio" id="btnradio6" autocomplete="off"
                                    onclick="showproductistype('General use')" style="padding-top: 10px;">
                                <label class="btn-outline-primary" for="btnradio6"  style="padding-top: 10px;">General use</label>

                            </div>

                        </ul>
                    </div>
                </div>

                <div class="col-lg-9 my-4">

                    <div class="hero__item set-bg imagebanner">
                        <div class="hero__text">
                            <span>Mini Mart</span>
                            <h2>FRESH <br />100% Organic</h2>
                            <p>Product on sela Daily on bottom</p>
                        </div>
                    </div>
                    <div class="row">

                        <div class="titall">
                            <h2>Daily sale!</h2>
                        </div>
                    </div>

                    <div class="container-sm my-5">
                        <div class="row row-cols-3 showdirly">
                        </div>
                    </div>

                </div>



            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="tital">
                        <h2>Author Product</h2>
                    </div>
                    <div class="minitital my-5">

                        <div class="btn-group" role="group" aria-label="Basic radio toggle button group">

                            <input type="radio" class="btn-check" name="btnradio" id="btnradio1" autocomplete="off"
                                onclick="showproductistype('All')" checked>
                            <label class="btn-outline-primary" for="btnradio1">All</label>

                            <input type="radio" class="btn-check" name="btnradio" id="btnradio2" autocomplete="off"
                                onclick="showproductistype('dry food')">
                            <label class="btn-outline-primary" for="btnradio2">Dry food</label>

                            <input type="radio" class="btn-check" name="btnradio" id="btnradio3" autocomplete="off"
                                onclick="showproductistype('Fresh food')">
                            <label class="btn-outline-primary" for="btnradio3">Fresh food</label>

                            <input type="radio" class="btn-check" name="btnradio" id="btnradio4" autocomplete="off"
                                onclick="showproductistype('Drink')">
                            <label class="btn-outline-primary" for="btnradio4">Drink</label>

                            <input type="radio" class="btn-check" name="btnradio" id="btnradio5" autocomplete="off"
                                onclick="showproductistype('personal items')">
                            <label class="btn-outline-primary" for="btnradio5">Personal items</label>

                            <input type="radio" class="btn-check" name="btnradio" id="btnradio6" autocomplete="off"
                                onclick="showproductistype('General use')">
                            <label class="btn-outline-primary" for="btnradio6">General use</label>

                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="container-sm">
            <div class="row row-cols-4 height290" id="detail">
            </div>
        </div>

        <div id="footer"></div>

        <script>


/*
            const rangeInput = document.querySelectorAll(".range-input input"),
                priceInput = document.querySelectorAll(".price-input input"),
                range = document.querySelector(".slider .progress");
            let priceGap = 1000;

            priceInput.forEach(input => {
                input.addEventListener("input", e => {
                    let minPrice = parseInt(priceInput[0].value),
                        maxPrice = parseInt(priceInput[1].value);

                    if ((maxPrice - minPrice >= priceGap) && maxPrice <= rangeInput[1].max) {
                        if (e.target.className === "input-min") {
                            rangeInput[0].value = minPrice;
                            range.style.left = ((minPrice / rangeInput[0].max) * 100) + "%";
                        } else {
                            rangeInput[1].value = maxPrice;
                            range.style.right = 100 - (maxPrice / rangeInput[1].max) * 100 + "%";
                        }
                    }
                });
            });

            rangeInput.forEach(input => {
                input.addEventListener("input", e => {
                    let minVal = parseInt(rangeInput[0].value),
                        maxVal = parseInt(rangeInput[1].value);

                    if ((maxVal - minVal) < priceGap) {
                        if (e.target.className === "range-min") {
                            rangeInput[0].value = maxVal - priceGap
                        } else {
                            rangeInput[1].value = minVal + priceGap;
                        }
                    } else {
                        priceInput[0].value = minVal;
                        priceInput[1].value = maxVal;
                        range.style.left = ((minVal / rangeInput[0].max) * 100) + "%";
                        range.style.right = 100 - (maxVal / rangeInput[1].max) * 100 + "%";
                    }
                });
            });




*/






            localStorage.removeItem('productid');
            localStorage.removeItem('productidsela');
            let showdirly = document.querySelector(".showdirly")
            let show = document.querySelector("#detail")
            let footer = document.querySelector("#footer")

            fetch('http://rattana.app.ruk-com.cloud/showproductall')
                .then(response => response.json())
                .then(data => {
                    for (let i = 0; i < data.length; i++) {
                        show.innerHTML += `<div class="col my-3"><img alt="Image" src="/image/${data[i].Picture}" class="iteme">
                        <div class="detail"><p><a href="cart?${data[i].Id}#load" onclick="localStorage.setItem('productid',${data[i].Id} )">${data[i].Name} <br> <strong>${data[i].Price} ฿</strong></a></p></div></div>`

                    }
                    for (let y = 0; y < 3; y++) {
                        var product = (Math.floor(Math.random() * data.length + 1))
                        console.log(product)
                        showdirly.innerHTML += `

                        <div class="col my-3">
                            <img alt="Image" src="/image/${data[product].Picture}" class="iteme">
                            <div class="detail">
                                <p><a href="cart?${data[product].Id}#load" onclick="localStorage.setItem('productidsela',${data[product].Id} )">${data[product].Name}</a></span></a></p>
                                </div>
                            </div>
                        `
                    }

                })
                .catch(error => console.error(error));



            function showproductistype(type) {
                show.innerHTML = "";
                if (type == "All") {
                    fetch('http://rattana.app.ruk-com.cloud/showproductall')
                        .then(response => response.json())
                        .then(data => {
                            for (let i = 0; i < data.length; i++) {
                                show.innerHTML += `<div class="col my-3"><img alt="Image" src="/image/${data[i].Picture}" class="iteme">
           </div><div class="detail"><p><a href="cart?${data[i].Id}#load" onclick="localStorage.setItem('productid',${data[i].Id} )">${data[i].Name}<br> <strong>${data[i].Price} ฿</strong></a></p></div></div>`

                            }

                        })
                        .catch(error => console.error(error));





                } else if (type == "dry food") {
                    fetch('http://rattana.app.ruk-com.cloud/showproduct1')
                        .then(response => response.json())
                        .then(data => {
                            for (let i = 0; i < data.length; i++) {
                                show.innerHTML += `<div class="col my-3"><img alt="Image" src="/image/${data[i].Picture}" class="iteme">
           </div><div class="detail"><p><a href="cart?${data[i].Id}#load" onclick="localStorage.setItem('productid',${data[i].Id} )">${data[i].Name}<br> <strong>${data[i].Price} ฿</strong></a></p></div></div>`

                            }

                        })
                        .catch(error => console.error(error));

                    footer.innerHTML = `<%- include('footer')%>`



                }
                else if (type == "Fresh food") {
                    fetch('http://rattana.app.ruk-com.cloud/showproduct2')
                        .then(response => response.json())
                        .then(data => {
                            for (let i = 0; i < data.length; i++) {
                                show.innerHTML += `<div class="col my-3"><img alt="Image" src="/image/${data[i].Picture}" class="iteme">
           </div><div class="detail"><p><a href="cart?${data[i].Id}#load" onclick="localStorage.setItem('productid',${data[i].Id} )">${data[i].Name}<br> <strong>${data[i].Price} ฿</strong></a></p></div></div>`

                            }

                        })
                        .catch(error => console.error(error));




                } else if (type == "Drink") {
                    fetch('http://rattana.app.ruk-com.cloud/showproduct3')
                        .then(response => response.json())
                        .then(data => {
                            for (let i = 0; i < data.length; i++) {
                                show.innerHTML += `<div class="col my-3"><img alt="Image" src="/image/${data[i].Picture}" class="iteme">
           </div><div class="detail"><p><a href="cart?${data[i].Id}#load" onclick="localStorage.setItem('productid',${data[i].Id} )">${data[i].Name}<br> <strong>${data[i].Price} ฿</strong></a></p></div></div>`

                            }

                        })
                        .catch(error => console.error(error));
                } else if (type == "personal items") {
                    fetch('http://rattana.app.ruk-com.cloud/showproduct4')
                        .then(response => response.json())
                        .then(data => {
                            for (let i = 0; i < data.length; i++) {
                                show.innerHTML += `<div class="col my-3"><img alt="Image" src="/image/${data[i].Picture}" class="iteme">
           </div><div class="detail"><p><a href="cart?${data[i].Id}#load" onclick="localStorage.setItem('productid',${data[i].Id} )">${data[i].Name}<br> <strong>${data[i].Price} ฿</strong></a></p></div></div>`

                            }

                        })
                        .catch(error => console.error(error));




                } else if (type == "General use") {
                    fetch('http://rattana.app.ruk-com.cloud/showproduct5')
                        .then(response => response.json())
                        .then(data => {
                            for (let i = 0; i < data.length; i++) {
                                show.innerHTML += `<div class="col my-3"><img alt="Image" src="/image/${data[i].Picture}" class="iteme">
           </div><div class="detail"><p><a href="cart?${data[i].Id}#load" onclick="localStorage.setItem('productid',${data[i].Id} )">${data[i].Name}<br> <strong>${data[i].Price} ฿</strong></a></p></div></div>`

                            }

                        })
                        .catch(error => console.error(error));



                } else {

                    fetch('http://rattana.app.ruk-com.cloud/showproductall')
                        .then(response => response.json())
                        .then(data => {
                            for (let i = 0; i < data.length; i++) {
                                show.innerHTML += `<div class="col my-3"><img alt="Image" src="/image/${data[i].Picture}" class="iteme">
           </div><div class="detail"><p><a href="cart?${data[i].Id}#load" onclick="localStorage.setItem('productid',${data[i].Id} )">${data[i].Name}<br> <strong>${data[i].Price} ฿</strong></a></p></div></div>`

                            }

                        })
                        .catch(error => console.error(error))





                }
            }

        </script>

        <script>

            let colors = localStorage.getItem('color')
            if (!colors) { localStorage.setItem('color', 'g-green') }

            var element1 = document.getElementById("Nav");
            element1.classList.add(localStorage.getItem('color'));

            function ChangeColorfooter(color) {


                var element1 = document.getElementById("Nav");
                element1.classList.remove(localStorage.getItem('color'));
                element1.classList.add(color);
                localStorage.removeItem('color');
                localStorage.setItem('color', color)
            }


        </script>

</body>

</html>